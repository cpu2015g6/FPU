CによるFPUのシュミレーション

floatのハードウェアによる型(32bit)を入力,出力uint32_tで表現。

software-orientedでは、ソフトウェア的な整数演算やループを用いて正確なものを実装

hardware-orientedでは、規格により許される誤差の範囲での出力をする(VHDLの模倣)。

テストは、hard版をsoft版と比較して計測

進捗...2015/10/29現在

--rev1

fadd...soft/hard実装、テスト済

fmul...soft/hard実装、テスト済

finv...soft/hard実装、テスト済

//finv --クソ精度

./test 0 1 0

-15   14

-14   464 

-13   2822 

-12   7602 

-11   14950 

-10   24925 

-9    36468 

-8    51627 

-7    71171 

-6    95319 

-5    130932

-4    178023 

-3    256704

-2    482110 

-1    1102260

+0    1917777

+1    2045538

+2    1301105

+3    515753 

+4    135596

+5    16903 

+6    545 

+7    0 

+8    0 

+9    0 

+10   0

+11   0

+12   0

+13   0

+14   0

+15   0 

fsqrt...soft/hard実装、テスト済

//fsqrt

./test 0

-6    0

-5    0

-4    0

-3    29045

-2    1266070

-1    6527817 

+0    5708719 

+1    2281268 

+2    753347

+3    182669

+4    26527

+5    1753 

+6    1
